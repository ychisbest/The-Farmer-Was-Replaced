---
import { useTranslations, type Lang } from "@/i18n";

const t = useTranslations(Astro.currentLocale as Lang);

const faqs = [
  {
    question: t({
      en: "What is The Farmer Was Replaced?",
      zh: "什么是编程农场 (The Farmer Was Replaced)？",
      de: "Was ist The Farmer Was Replaced?"
    }),
    answer: t({
      en: "The Farmer Was Replaced is an educational programming game where players learn Python through farm automation. In this programming game, you write code to automate farming tasks, making it the perfect way to learn programming concepts while having fun with farming simulation.",
      zh: "编程农场 (The Farmer Was Replaced) 是一个教育性编程游戏，玩家通过农场自动化学习 Python。在这个游戏中，你编写代码来自动化播种、浇水和收割，是学习编程概念同时享受农场模拟乐趣的完美方式。",
      de: "The Farmer Was Replaced ist ein bildendes Programmierspiel, in dem Spieler Python durch Farmautomatisierung lernen. In diesem Programmierspiel schreiben Sie Code, um landwirtschaftliche Aufgaben zu automatisieren, was es zur perfekten Möglichkeit macht, Programmierkonzepte zu lernen und dabei Spaß mit der Farm-Simulation zu haben."
    })
  },
  {
    question: t({
      en: "How do I get started with The Farmer Was Replaced?",
      zh: "如何开始玩编程农场？",
      de: "Wie fange ich mit The Farmer Was Replaced an?"
    }),
    answer: t({
      en: "To start playing The Farmer Was Replaced, first purchase the game on Steam. Then learn basic Python fundamentals like while loops (about 30 minutes of learning). The Farmer Was Replaced provides an intuitive environment where you can practice programming through engaging farming challenges.",
      zh: "要开始玩，首先在 Steam 上购买游戏。建议先学习基础 Python 知识，只需掌握到 while 循环即可（约 30 分钟学习时间）。游戏提供了一个直观的环境，你可以通过有趣的农场挑战练习编程。",
      de: "Um mit The Farmer Was Replaced zu spielen, kaufen Sie zuerst das Spiel auf Steam. Dann lernen Sie grundlegende Python-Grundlagen wie while-Schleifen (etwa 30 Minuten Lernzeit). The Farmer Was Replaced bietet eine intuitive Umgebung, in der Sie durch ansprechende Farm-Herausforderungen programmieren können üben."
    })
  },
  {
    question: t({
      en: "Do I need programming experience for The Farmer Was Replaced?",
      zh: "玩编程农场需要编程经验吗？",
      de: "Benötige ich Programmiererfahrung für The Farmer Was Replaced?"
    }),
    answer: t({
      en: "No programming experience is required! The game is designed for beginners. You only need basic Python knowledge up to while loops. The Farmer Was Replaced teaches programming concepts gradually as you progress through the farming automation challenges.",
      zh: "不需要任何编程经验！游戏专为初学者设计。你只需要了解最基础的 Python 语法。游戏会随着关卡推进，通过实际的自动化挑战逐步教你复杂的编程概念。",
      de: "Für The Farmer Was Replaced wird keine Programmiererfahrung benötigt! Das Spiel ist für Anfänger konzipiert. Sie benötigen nur grundlegende Python-Kenntnisse bis zu while-Schleifen. The Farmer Was Replaced lehrt Programmierkonzepte schrittweise, während Sie die Farm-Automatisierungsherausforderungen meistern."
    })
  },
  {
    question: t({
      en: "What programming skills will I learn in The Farmer Was Replaced?",
      zh: "在编程农场中我会学到什么编程技能？",
      de: "Welche Programmierfähigkeiten werde ich in The Farmer Was Replaced lernen?"
    }),
    answer: t({
      en: "You'll learn essential Python programming skills including variables, functions, loops, conditionals, and problem-solving algorithms. The game focuses on practical coding through farm automation, making it an engaging way to develop real abilities.",
      zh: "你将掌握核心的 Python 技能，包括变量、函数、循环、条件判断以及算法逻辑。通过解决实际的农场效率问题，你将获得比死记硬背更扎实的编程能力。",
      de: "In The Farmer Was Replaced lernen Sie wesentliche Python-Programmierfähigkeiten einschließlich Variablen, Funktionen, Schleifen, Bedingungen und Problemlösung. Das Programmierspiel konzentriert sich auf praktisches Programmieren durch Farmautomatisierung und macht es zu einer ansprechenden Möglichkeit, echte Programmierfähigkeiten zu entwickeln."
    })
  },
  {
    question: t({
      en: "Where can I find code examples for The Farmer Was Replaced?",
      zh: "在哪里可以找到编程农场的代码示例？",
      de: "Wo finde ich Codebeispiele für The Farmer Was Replaced?"
    }),
    answer: t({
      en: "Our website offers comprehensive code examples and tutorials. You can find farming automation scripts, Python solutions, and strategies to enhance your gameplay right here in our 'Codes' section.",
      zh: "本站提供最全面的代码示例和教程。你可以在我们的“代码”板块找到各种农场自动化脚本、Python 解决方案和效率策略。",
      de: "Unsere Website bietet umfassende Codebeispiele und Tutorials für The Farmer Was Replaced. Sie finden Farm-Automatisierungsskripte, Python-Lösungen und Strategien zur Verbesserung Ihres Spielverlaufs. Die The Farmer Was Replaced Community teilt auch kreative Code-Lösungen für verschiedene Farm-Herausforderungen."
    })
  },
  {
    question: t({
      en: "Is The Farmer Was Replaced suitable for learning Python?",
      zh: "编程农场适合学习 Python 吗？",
      de: "Eignet sich The Farmer Was Replaced zum Erlernen von Python?"
    }),
    answer: t({
      en: "Absolutely! Many players find it more effective than traditional courses because it provides visual feedback. It combines education with entertainment, making abstract concepts concrete through farming tasks.",
      zh: "绝对适合！许多玩家发现它比传统网课更有效，因为它提供了即时的视觉反馈。它将枯燥的代码概念转化为具体的农场任务，让学习过程充满乐趣。",
      de: "Absolut! The Farmer Was Replaced ist perfekt zum Erlernen von Python. Das Spiel kombiniert Bildung mit Unterhaltung und lehrt Python-Programmierung durch ansprechende Farm-Automatisierungsaufgaben. Viele Spieler finden The Farmer Was Replaced effektiver als traditionelle Programmierkurse zum Erlernen von Code-Grundlagen."
    })
  }
];

// 生成 JSON-LD Schema (这对 SEO 至关重要)
const schema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": faqs.map(faq => ({
    "@type": "Question",
    "name": faq.question,
    "acceptedAnswer": {
      "@type": "Answer",
      "text": faq.answer
    }
  }))
};
---

<script type="application/ld+json" set:html={JSON.stringify(schema)} />

<section class="max-w-4xl mx-auto px-4" id="faq">
    <div class="text-center mb-10">
        <h2 class="text-3xl font-bold mb-4 text-gray-900 dark:text-white">
            {t({
                en: "Frequently Asked Questions",
                zh: "常见问题解答",
                de: "Häufig gestellte Fragen"
            })}
        </h2>
        <p class="text-gray-600 dark:text-gray-400">
            {t({
                en: "Everything you need to know about the game and automation.",
                zh: "关于游戏机制与自动化的所有疑问，都在这里。",
                de: "Alles, was Sie über das Spiel und die Automatisierung wissen müssen."
            })}
        </p>
    </div>

    <div class="space-y-4">
        {faqs.map((faq, index) => (
            <div class="group bg-white dark:bg-gray-800 rounded-xl border border-gray-100 dark:border-gray-700 hover:border-green-200 dark:hover:border-green-900 hover:shadow-md transition-all duration-300">
                <details class="group w-full rounded-xl overflow-hidden">
                    <summary class="flex justify-between items-center cursor-pointer p-6 list-none select-none">
                        <div class="flex items-center gap-4">
                            <span class="hidden sm:flex w-8 h-8 rounded-full bg-green-50 dark:bg-green-900/30 text-green-600 dark:text-green-400 items-center justify-center text-sm font-bold flex-shrink-0">
                                Q
                            </span>
                            <h3 class="font-bold text-lg text-gray-800 dark:text-gray-100 group-hover:text-green-700 dark:group-hover:text-green-400 transition-colors">
                                {faq.question}
                            </h3>
                        </div>
                        
                        <span class="flex-shrink-0 ml-4 w-8 h-8 flex items-center justify-center rounded-full bg-gray-50 dark:bg-gray-700 group-open:bg-green-100 dark:group-open:bg-green-900/50 transition-colors duration-300">
                            <svg class="w-5 h-5 text-gray-500 dark:text-gray-400 group-open:text-green-600 dark:group-open:text-green-400 transform group-open:rotate-180 transition-transform duration-300" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path d="M19 9l-7 7-7-7" stroke-linecap="round" stroke-linejoin="round"></path>
                            </svg>
                        </span>
                    </summary>
                    
                    <div class="px-6 pb-6 sm:pl-20 text-gray-600 dark:text-gray-300 leading-relaxed text-base border-t border-transparent group-open:border-gray-100 dark:group-open:border-gray-700 pt-4">
                        {faq.answer}
                    </div>
                </details>
            </div>
        ))}
    </div>
</section>

<style>
    /* 移除默认的三角箭头 */
    details > summary {
        list-style: none;
    }
    details > summary::-webkit-details-marker {
        display: none;
    }
</style>